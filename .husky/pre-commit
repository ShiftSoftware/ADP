if git diff --cached --name-only | grep -q '^ADP.WebComponents/adp-web-components/'; then
  echo "ğŸ” Staged changes found in adp-web-components. Running checks..."

  cd ADP.WebComponents/adp-web-components

  echo "ğŸ¨ Fixing Prettier formatting..."

  cd ADP.WebComponents/adp-web-components && npx lint-staged

  echo "ğŸ”§ TypeScript check..."

  yarn tsc --noEmit

  if [ $? -ne 0 ]; then
    echo "âŒ TypeScript errors. Push aborted."
    exit 1
  fi

  echo "ğŸ§ª Running tests..."

  yarn test

  if [ $? -ne 0 ]; then
    echo "âŒ Tests failed. Push aborted."
    exit 1
  fi

  echo "âœ… All checks passed. Proceeding with push."
else
  echo "â„¹ï¸ No staged changes in adp-web-components. Skipping Stencil checks."
fi